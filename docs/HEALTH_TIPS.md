r# Health Tips Feature

## Overview

The Health Tips feature provides daily personalized health tips generated by Gemini AI to help users maintain their wellness. Users can receive these tips via notifications and view them in a dedicated screen.

## Features

### 1. AI-Generated Health Tips
- Tips are generated using Gemini AI API
- Covers multiple categories: nutrition, exercise, mental health, medication safety, and general wellness
- Personalized based on user's medicine profile when available
- Fallback tips available when AI is unavailable

### 2. Daily Notifications
- Users can schedule daily health tip notifications
- Customizable notification time
- Can be enabled/disabled in settings
- Immediate tip sending for testing

### 3. Health Tips Screen
- Dedicated screen for managing health tips
- View current health tip
- Generate new tips on demand
- Schedule daily notifications
- Settings management

### 4. Home Screen Integration
- Daily health tip card on home screen
- Quick access to health tips
- Visual indicators for tip categories

## Technical Implementation

### Services

#### HealthTipsService (`src/services/healthTips.ts`)
- Singleton service for managing health tips
- AI integration with Gemini
- Notification scheduling and management
- Tip generation and parsing

#### Key Methods:
- `generateDailyHealthTip()` - Generate new tip using AI
- `scheduleDailyHealthTip()` - Schedule daily notifications
- `sendImmediateHealthTip()` - Send tip immediately
- `handleDailyHealthTipNotification()` - Handle notification responses

### Hooks

#### useHealthTips (`src/hooks/useHealthTips.ts`)
- Custom hook for health tips functionality
- State management for current tip and settings
- Integration with settings context
- User authentication integration

### Components

#### HealthTipCard (`src/components/health/HealthTipCard.tsx`)
- Reusable component for displaying health tips
- Category badges with emojis
- Compact and full-size variants
- Touch interaction support

### Screens

#### Health Tips Screen (`app/(tabs)/health-tips.tsx`)
- Complete health tips management interface
- Settings toggle for enabling/disabling
- Schedule management with time picker
- Action buttons for tip generation
- Information section

## Configuration

### Settings Integration
Health tips are integrated with the app's notification settings:

```typescript
notifications: {
  categories: {
    health_tips: boolean; // Enable/disable health tips
  }
}
```

### AI Configuration
Requires Gemini API key in environment variables:
```
EXPO_PUBLIC_GEMINI_API_KEY=your_gemini_api_key
```

## Usage

### For Users

1. **Enable Health Tips**
   - Go to Health Tips screen
   - Toggle "Daily Health Tips" switch
   - Schedule notification time if desired

2. **View Tips**
   - Check home screen for daily tip
   - Visit Health Tips screen for full management
   - Generate new tips on demand

3. **Manage Notifications**
   - Schedule daily notifications
   - Send immediate tips for testing
   - Cancel scheduled notifications

### For Developers

1. **Adding New Categories**
   - Update `HealthTip` interface
   - Add category to `buildHealthTipPrompt()`
   - Update emoji and name mappings

2. **Customizing AI Prompts**
   - Modify `buildHealthTipPrompt()` method
   - Adjust JSON response format
   - Update fallback tips

3. **Notification Handling**
   - Extend notification response handling
   - Add custom navigation logic
   - Implement tip storage if needed

## Categories

### Nutrition
- Healthy eating tips
- Hydration advice
- Meal planning suggestions
- Emoji: ü•ó

### Exercise
- Physical activity recommendations
- Movement suggestions
- Fitness tips
- Emoji: üèÉ‚Äç‚ôÇÔ∏è

### Mental Health
- Stress management
- Mindfulness practices
- Emotional wellness
- Emoji: üßò‚Äç‚ôÄÔ∏è

### Medication
- Medicine safety tips
- Adherence advice
- Storage recommendations
- Emoji: üíä

### General Wellness
- Overall health tips
- Lifestyle recommendations
- Preventive care
- Emoji: üí™

## Error Handling

- Fallback tips when AI is unavailable
- Graceful degradation for network issues
- User-friendly error messages
- Retry mechanisms for failed requests

## Future Enhancements

1. **Tip History**
   - Store and display past tips
   - Favorite tips functionality
   - Tip sharing capabilities

2. **Personalization**
   - User preferences for categories
   - Medicine-specific tips
   - Health condition considerations

3. **Analytics**
   - Tip engagement tracking
   - User interaction metrics
   - Effectiveness measurement

4. **Offline Support**
   - Cached tips for offline viewing
   - Local tip generation
   - Sync when online

## Dependencies

- `expo-notifications` - Notification management
- `axios` - API requests to Gemini
- `@react-native-async-storage/async-storage` - Settings storage
- React Native Paper - UI components

## Testing

1. **Unit Tests**
   - Service methods
   - Hook functionality
   - Component rendering

2. **Integration Tests**
   - AI API integration
   - Notification scheduling
   - Settings persistence

3. **Manual Testing**
   - Tip generation
   - Notification delivery
   - UI interactions
